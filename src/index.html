<!DOCTYPE html>
<html>
  <head>
      <script src="http://d3js.org/d3.v4.min.js"></script>
      <style>
        .main, body, html {width:100%;height: 100%;padding:0;margin:0;}
        .left, .right, .top, .bottom {flex:1}
        .main{display:flex;flex-direction: row;}
        .left{ background : rgb(255, 255, 255);}
        .right{display:flex;flex-direction: column; background-color: khaki}
        .top{background-color: rgb(230, 230, 230)}
        .bottom{background-color: rgb(240, 240, 240)}
        .popup-outer{position: absolute; left: 50%;z-index: 10}
        .popup-inner{position: relative; left: -50%; }
        #barchart-options { background:#293133;opacity:0.8;color: #e2e2e2;width: 190px; height: 178px; top: -218px;
          padding: 20px; 
          -webkit-transition: top .3s, -webkit-transform .3s;
          transition: top .3s, transform .3s;}
      </style>
    </head>
  <body > 

    <div class="popup-outer"  >
      <div class="popup-inner" id="barchart-options" >
          <fieldset>
              <legend>Choose what counts to show in the bar chart </legend>
              <div>
                <input id="checkbox_answercount" type="checkbox" value="AnswerCount" onclick="updateBarChart(this.value, this.checked)">
                <label for="checkbox_answercount">Answer count</label>
              </div>
              <div>
                <input id="checkbox_commentcount" type="checkbox" value="CommentCount" onclick="updateBarChart(this.value, this.checked)">
                <label for="checkbox_commentcount">Comment count</label>
              </div>
              <div>
                <input id="checkbox_favoritecount" type="checkbox" value="FavoriteCount" onclick="updateBarChart(this.value, this.checked)">
                <label for="checkbox_favoritecount">Favorite count</label>
              </div>
              <div>
                <input id="checkbox_usercount" type="checkbox" value="OwnerUserIdCount" onclick="updateBarChart(this.value, this.checked)">
                <label for="checkbox_usercount">User id count</label>
              </div>
              <div>
                <input id="checkbox_scorecount" type="checkbox" value="ScoreCount" onclick="updateBarChart(this.value, this.checked)">
                <label for="checkbox_scorecount">Score count</label>
              </div>
              <div>
                <input id="checkbox_viewcount" type="checkbox" value="ViewCount" onclick="updateBarChart(this.value, this.checked)">
                <label for="checkbox_viewcount">View count</label>
              </div>
            </fieldset>
      </div>
    </div>    
    <div class="main">
      <div class="left">
        <div id="taggraph" style="height:100%;"></div>
      </div>
      <div class="right">
        <div id='stackedchart'></div>
        <div class="top">
          
        </div>
        <div class="bottom">
          <button style="position:absolute;right:0" onclick="toggleBarchartOptions()">Show/hide options</button>
          <script>
            var optionsVisible = false;
            function toggleBarchartOptions() {
              var elem = document.getElementById("barchart-options");
              if(optionsVisible) {
                optionsVisible = false;
                elem.style.top = -1.1 * elem.getBoundingClientRect().height + "px";
              } else {
                optionsVisible = true;
                elem.style.top = 0;
              }
            }
            </script> 
         <div id="barchart" style="width:100%;height:100%;">
           
        </div>
      </div>
    </div>
  </div>
    
    
    
    
    
    
  </body>
  </html>